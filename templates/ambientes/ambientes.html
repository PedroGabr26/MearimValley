{% extends 'base.html' %}

{% block title %} Ambientes - Mearim Valley {% endblock %}

{% block content %}
<h2>PÃ¡gina de Ambientes</h2>
{% endblock %}

{% block script %}
<script>
  const container = document.getElementById('lista-instituicoes')

  async function GetInstituicoes() {
    const url = 'http://127.0.0.1:8000/api/instituicoes/'
    const resp = await fetch(url)
    if (resp.ok) {
      const data = await resp.json()
      data.forEach(instituicoes => {
        const div = document.createElement('div')
        div.classList.add('parceiro-box')
        div.innerHTML = `
            ${instituicoes.logo_startup
                ? `<img src="${instituicoes.logo_instituicao}" alt="Logo de ${instituicoes.nome_instituicao}">`
                : `<div style='height:100px'>Sem logo</div>`
            }
            <p>${instituicoes.nome_instituicao}</p>        `
        container.appendChild(div)
      })
    } else {
      container.innerHTML = '<p>Erro ao carregar instituicoes.</p>'
    }
  }

  GetInstituicoes()
</script>
{% endblock %}